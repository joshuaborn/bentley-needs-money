<%= turbo_frame_tag "side_panel_contents" do %>
  <div class="card" data-controller="card">
    <%= form_with model: @payback do |form| %>
      <header class="card-header">
        <p class="card-header-title">Edit Payback</p>
        <a href="#" class="card-header-icon">
          <span class="icon">
            <i class="fa-solid fa-xmark fa-lg has-text-link"></i>
          </span>
        </a>
      </header>
      <div class="card-content">
        <div class="content">
          <div class="field">
            <%= label :person, :id, "Person", class: "label" %>
            <div class="control has-icons-left has-icons-right">
              <%= collection_select :person, :id, @person_transfers, :person_id, :name, {}, { class: "input" } %>
              <span class="icon is-small is-left">
                <i class="fas fa-user"></i>
              </span>
              <span class="icon is-right">
                <i class="fa-solid fa-caret-down"></i>
              </span>
            </div>
          </div>
          <%= form.bulma_form_element :number_field, :dollar_amount_paid, step: 0.01, icon_left: "fa-solid fa-dollar-sign", label_text: "Amount" %>
          <%= form.bulma_form_element :date_field, :date %>
        </div>
      </div>
      <footer class="card-footer buttons has-addons">
        <%= form.submit "Update", class: "card-footer-item button is-link" %>
        <%= link_to "Delete",
          payback_path(@payback),
          class: "card-footer-item has-text-danger",
          data: {
            turbo_method: :delete,
            turbo_confirm: "Are you sure you want to delete this payback?"
          }
        %>
        <a href="#" class="card-footer-item">Cancel</a>
      </footer>
    <% end %>
  </div>
<% end %>